version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:jA4fNLBEhh19qun6OU5kRidoZPH0CLg=,iv:cZ62NrjL22ykVPVbEN0Y2mZACEtkt9b2OPVKsI+C4Sg=,tag:zfNxFSMePuuMoiohFK/Mmw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:TY1drO9SfU3xQxvbVBTN1gMo6lsrxpgyyijPiSrnwBl4L9Eq9RDjKKC6u+Uj96PGWFgcjoRVn7SMYfQCswV3Vorduf5wUyWv4OokX5krxF55rIdbJ7/GX3kaYb4gsrN4O97+3P6wWFioQhDMa5prZD+0xESUQ4IKneX+a1IWieU7rQQcQM0NWrEL4SSLiqPdLzJ32Ul2pspC1z91NF3L5Ae93zlImPLvF3lMyIcJqdM6rm+Imj7M9HbqiwylcLl1xmdDcfkXgPBbK6VLnU8Qtp/Wd1LREyK9mL+OSTZL/w04Fv16hODNFZaTzN7SWC4UGz1oEDSLu3kwU8sD2OQQwZWoUIh6KxTKhwRPe4I1u7U5VCL4/V8kCH5xMS8Q2ED7cYBA16rrOX32fR0NJAIYbM1VEmsB8I/xsNzyGIxxFzK6hbad6csp+cpTOwkR+YJOZeDcPGSCCaJlTtS1Cguf8/UC+BajBBjEvCaIrl6QNTEDilMN5yort0uefSN07N2654bIuYaQB/6DZcphCSr9t75OUNzT4uxPeP/AQJKzJn5vHvQxspHz+xRX8vkk8uFOviCSaJ64nG9+vckU1wMqL3NirgqEWWlggUIRylvkM0V9ncGj0Jr0vZ/ct2yJG/9xhb+uEf13XZcPaUzAh4niVBENZ9Miy/FWKd+5QZPIh0cTmKoc/zvy77XkpIvgxsl3w5HCjqL/hS1xtpxkXdMzztSioUnmE9wib/HeE3f2jFfvhHansEkSauhe0P3pfvINWTH7/ENVnOH6HsPsyy0WDqlChBT3ngCCyZ6gU+qHy8ldKhGY8+NZfA9DnzKGQ6juvNEJMwszY9FMBM+Mj3eb4O/c11LLgxWSr67lS7da4XegjPrE,iv:JZo7U98VPnpUvY2lWIEqQMOQetDks/a0oJ1VW5huLRg=,tag:4B3iHFyFtxhzOQtXRW8SnQ==,type:str]
    key: ENC[AES256_GCM,data:sgWA5OS9CMxsxv3ED6UAzwAcy9QlfwTwI+HLN8GWXAD/4ytvhLtB1AvleJLOk9IkntdR2N4O0y4yrpFEk0rM5aELPd5fHfUWPIIhmbEwxXePRrQrKvGr88XyzvWzVOb/Hn+110+6v/O3EC4FMSZGzhUYQ/3gNKn5+jgfEz2ccUQAID2Y3tKy0CnD/v1gUIhnZqmBHIA3hluGVlM+W32h6QPtdt2nmFUdAT9EnZI2Wh3rUUR/,iv:mhxUqvi5heHvp52SWPIq77r5FIuPT2+PiOBDw6rr2Lo=,tag:OaQPzYHFqRSYgY8nF2oKBw==,type:str]
  certSANs:
    - 127.0.0.1
    - 10.1.7.19
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      rotate-server-certificates: "true"
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.7.0/24
    disableManifestsDirectory: true
  network:
    hostname: mercury
    interfaces:
      - deviceSelector:
          hardwareAddr: e4:b9:7a:f8:90:c4
        mtu: 1500
        dhcp: true
        vip:
          ip: 10.1.7.19
  install:
    # i915-ucode, intel-ucode, mei, thunderbolt
    image: factory.talos.dev/installer/de3b865124c5616da8084826167f8c0b0fbc9b905b146290db797024e84097fc:{{ ENV.TALOS_VERSION }}
    wipe: false
    disk: /dev/nvme0n1
    extraKernelArgs:
      # For performance
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - mitigations=off
      - module_blacklist=igc
      - security=none
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.grpc.v1.cri"]
        enable_unprivileged_ports = true
        enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
        discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
        discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Intel GPU for plex HW transcoding
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: home
    topology.kubernetes.io/zone: main
cluster:
  id: ENC[AES256_GCM,data:ln5hDLF67qCfhg0gAEBPu6PF/4oVBPtBcanvU2RwFm/2I1QuWnNC2N9TpBM=,iv:2RNfT4IvMMK80+5C0SDea8oG0UnOrWj+x1wJuUgrX/U=,tag:B9feyfo7YdiGsMmaJVhspQ==,type:str]
  secret: ENC[AES256_GCM,data:Jk/x30yeA32AHoqDzmLdqyjdnA8Chkju7l1F2j9XQB3qhCfWikCBRiL3dJw=,iv:dmjePAM48Hbaj88chraZbTR7PVp25oTSY2eI7mO/50A=,tag:WKoGW35CANCCuQUDulbTyQ==,type:str]
  controlPlane:
    endpoint: https://10.1.7.19:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:kB3+6k/peJtB1VFJgEH1uILwOfg3mRI=,iv:U3I6VDDK6C+j3VGR1ySbXBxekYgtahukX753NTZM9Y4=,tag:orrS74uEMHYP7/47yhzQxw==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:5gLAwQ/RFYNzACOL32X8BbNEnmVH9CGe1S6KP5wX1F5JlTyrh1IYIk6nDUY=,iv:mjciVSKogoSoQbzquebEUiydnTEGLe8sUtjCwbfhvL8=,tag:9Z/2jn3uLZJ/Ja+mwtXFUQ==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:rBZ23djp8zdppa8hdOAa+jjve8/BDnvQiMG6XWWmKzVyP86ehUifa01NQjLAw8KGJVfcknzWyCsdbUSU8XIle5nwDVqz0ryzzw6C79dKszcnJiL0LrvXdlkvX3PIXpx+v4ENb/owUkX7NiNhIDs9thHbKpXwWdQusgpzY4/dD7KVcfG9/LM8bhpgAkMkI5KPzOk8BSrT7XpPNVKXnSXIcGhSuT0rBPMUOmoGoPv8iyRPv5t7axxPvu1j8A+B3+whUWPkHbM/8/uN7FHgZfIEfsnUWlOB181kbw7UVQJCyyLr+cRUz+gPefsU08m8L8QiTaya6yMW5w1Jn5N7vKeDUZfLl7mvb8Q9Png5S1UVhS6msZINZyY1gug9NfT0sqt6mspG/kEWl+nMpVQVJ6jXhdsvmDLbc8HDPsjF9q5lHHtqE4fzESJ4YRod1PoskKjhn5lIp3HUA4dVqPjW9CKIX5KJRClNPN01EoaqUrWrid5Ba3Qj8sHRav45bVuP4eorjMKb4y2RyMsMqOId9cq+Fc9mSt3HxAeFj7hpo78/L1RsbhTg+Glt41YB8DlNeDd/iZlqLNwunBEN2/ZSQsD2Nt8fSoLGCn2zvNW2fP2rMubjydZejAswDDprkygR/6aPeld6MKAmFULNf2rGBDNirdtFi+KIYYJccs7NSmnNUJwaWXkgtpTrRLPH69LFnhTqfyVt6LKNJ1/VFVbKL9ddih7Qlyzdfh/fnHXBpNa9E/bB3vVI6cyRSK6q/mxnyV8NdSiEAahvhdtQhwSXyfTsfhM6GD7GH5Jti0aB2EbAc4JDCys9TarQrD1l9/KwldV7mx/zuWxce9iRACLWkv2EH0eSgqhrIi96lspqbbJBgSJgQsaGD7Nf1J8M7kdFV2j23hWnC7wfF5EU9p+29lwdGW5VO39EX+dLgR43UYN/24FRdO5RNorAbj/8o0Y9AqyElAUDgM8KqZraEx05z3LUCKStiF/Ce2HEl3QL94o2lQDbIhihOde5QK+N/5uKbTPuc5tK1T9hsSrlV9WcYQpUlFMFzg0QefvlylOZ4A==,iv:Nl7taH30ReFxGSuw6TgJlKXL5yqS7WTkKiiMs3JXlvs=,tag:kxu2TP+8pvjj/vmFhOYxoA==,type:str]
    key: ENC[AES256_GCM,data:PfDFj0UuKImbyiSSi4Xlq8bn7qZLatvs86R7xT8XGLQi/XbAb6n/lM0U5A2QxGVi5JuqsvekNYFP+r/z12IB0gIwn4yKRq1pAuutHqgO/t4N0Uaeb2LfZI15mMqCGY/i0McvVjx2/Q8fBhx6VwUT5xg2FGftsOJyltIQJkzSo4eOGFKqyowDTwghBu31qQS+zZFY4OaP5ajYdZNiA7VmEE/sLdHjvnVfmysw5jbz1nBD2OwtUIHWaBe0ZRezxcxx9cXq3Jp64ytLtRcQX1q+zj1Eozob6h0IthqvukAaEpohpNjtTEEktjO6w8KIYxUkaTBlfBo75STQzOwURDxy30XpuIlqNtPPNm95kerTni+zdHegtjPqR0bZoO/zplnZPsQ4YM98OG00Nvzm1YeT9w==,iv:p52beLW7LtTJlCrK/R7HGG9nSrvUr5ODgrC4TkHBGkw=,tag:KBj+7PuV2pHXMiUnr5E5HA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:Oofp2mJgV0vsCo698igdLHMl83FdLGFHAfySUeVfB586xZ1iK46GH+fMG9VRIjWAWhCu7MXOXzPpwJNWyJ2YJZnFSg9C4p/Y/ReSn7yi2CvNFgj6mPPlgDU3jI88x2STfmKTu1uiFpAbGMlCXw500cWjk1hFP3pYLNZXxbnhHLt0R74enjUV0PutaHPEq9pPLmge2VilVA/99/CYLsgTI6aUyIG2i4oyvofzMfvmBQgifSou6PEmMxFKWuEQN+NXXza6QZxPetfL0P7HH2k5hEBSpRmVhgSL9czxb39t/F5/gE0tec0JkA4EUKkkfd9Py/RlDLYPM467zxW+aWNGxbRKE06NYZCZkdEfUBXnQrYwZCEQ+EuysLnqg+x3/FENKrsDt5GJw3W3IhiXAYKTfVE24WZrgs10xj0nLZgWKc/8FSKdO+gyZL9mBshzEQ6lLYEmfDQ0omIDvIuxMYU9FaQJ9uBE+SfNQqFrJE1s4EtmYc3tHKfnh35iOGZ9uy1Y+ojZdRLZanE0BQJ/dOX0A0zJBe4hY1zchA1YX2xcQMx6cdMtkOYYYH0YcXwjXQd1HmRac4Mto0Zq50zhZpLVcLLWdoS8yag4Y1tSZ7ZytAkXkT0Y8G7BAl/FEl9+7rO9On0NnsxoyRT7IbHzGOpMB4S4my++hSsfHCGzP51mabpejMobq9mDxaFtgiJd6/66ySaaqzaJq/waSxGK3vsgWkrklt3k2LTNpI3YOdkaivhH/ysLsn2uDTYZqZxiQ7/vDzetNq+TxYcFaojoQK5ohKJRaRL2Qshymj0h4f6EcVhaMs0b94u73vWBT/tqyjRP291Rpd7ZN8ltOkz538rdSpHM75lGj6dNQty84YmHb1dw3Ipq2M8fu1Q7h4M5lpBg5vRgJ++RnrgDi4XQ1r0L6FyjfrxaJ3lp+sf3V73q5SCa3r6CtpP6DA==,iv:fjMa8p8XgB0VYjL0rDkumo4a5Ai3VXAxQdhSMs4fpZQ=,tag:rsT1w7Jd7zV4TUEYQjdMDw==,type:str]
    key: ENC[AES256_GCM,data:JzPAHgMy8owqMXlhjy3mbx6KrbR/JMzneblZad6JCyfytsZYpfCvTW8WjTGutnedi4Y9E8GsiK4n9NJG0+Bm5bUovQdowmvIY9Zjg4xFsVZyorXi8h2MirPiuok7HHpEa+oDnvIVwswvI6tjaO2U+0ZVAKEi094myIShShAk0PTtGqVmCBL15VxAzIxKrFg96c0PrqR0eD1yiw+M6TSCBbP0a2KRaAQZKEzUiScYRbtoE8UuCnyoy6Y+spIPMF16myKKh3D82cQjRl4M1goXqAY1ufTBIZLGmRATTt279//B3kbmXAHyuEYJegVJ+4NN9rkgJgExMgTkx+qo3qNL6+zpyleQKJJm4TQIASjC1/wBCoV8D/gGaPfOSw+HfsCC82Lx0NepoBENINHOdZKH0w==,iv:VIGgqJNGsxMoPOTTnCA/kh68iX4Znj7l9eVEO64Vs2g=,tag:HU+Q5tUcDASvLmjmOMvqAQ==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data:suffKyuTOKhlpmmCOp6xzgb5CWhXUggGrZfNLKDd6j4JnpVIGDjfDNWA1BFR1oC3JzXXb5Dobf4oUaEU1OtDKGKYfYezrsaWXCcLRLmkut6MdGvMidZcB4wmc8sDRuDoq/ZzdjvWYdjCqzFnacDiRDZIFQHrQSsI4Ij6+TQpEanTs3AOuSELggHJIoHqMbpLic93WdfNc8BCGNDGiIv81PQ/YV+l3WLBYWpPkoH8RXmqWSxGGD2oqF6IfVh5LKn6asJGiAHdnFJ3+QUU3rQxaIvC0zIiYWkWNutmfqz27ufMtGJmGB7G371wHVSgdJzCBGUo8TFCHDvyUG1pxomHyK/3mRCAvsRb9Emyb/F5Do5b+x6i5QLciU4xg0eaJf5Xa0JOIKqmwKH8pVWF3aoGbVw5N6S9Ld/sc59XV7fzRaQuxT080ifw8HOkoR35EHrZ8UhXcGidAKp8bA1j+sx7lVbCYBoibV9T+Yf+JkQpSf2GhLrXahCjWdy5JxjxBmejGoSGisXN1c5xusbtKRDfO/oHHwUy3+XE2WyUnaEZ4VF7WD+dUQMOUrsJWwkec1oRWZalmZWcU4i3Hb3Q4UWYVWURvoCyhFRPhBrgkA0ey7JYUizAy82VoXSd7K5JAGg3TTTYKRK3/H86yzZvhXR1/r33wRwx6z2jlz4HVjw20qGb6zsnVTQqt74U2wqFY13T5F9Euler9QLqrtRFvcCoGrkp0/zUXSw5E4Rqnlw01k+UADgkKoFzgGCXrxu0/W+kPPDpxUtqmI9QbS6APVChcLXmegP4N8wlhZ7A/oht0Ca0YRLIyvPtX/4Ztog5keqXPn/6wffqul7BJOltS2Y75uDXanU6WXrlGvJ9VAQy8yr2TgCnrTpqpo8+SYoJZpRuTiW/5Phozkmva3UpXtwwzQdmY3Yc2mNC+ptqV/YgfbYyrIMz9ayAZriAN9DG3HCapEPsOOsMGewsXD011EkL2Cl/o5RkJD04+qeUV/4TwuvAiwo0gNysGXARxraHdRojy0UvbT/q6Zw492A++d+CjQC2Pbsr2WDyvDp/f+wuavai5f8MsAxR9KL17zAI2TMPgftfae7Lkifl0fyckf66bQBAdvI/alAZEb24W0UKqPpJ8sQEr5OKsyK22/Zi4PQBoMPQ+HpTOSxsqZOT9W9earxgG5zldTsMzNjjw8RlZIcbyeRAuoWIgdvEfzMj/o01JY/WWUEa6wHTgVal1iBmqCmlHjhNF17yJ2tU7BoU+4QK1WPdJFBJRnFo2AMpOJr2yWLmXuxzKICMgxa024LWcMoLBwPaqkr548HvCy6OwuPdr1Pqch9UosAzGmNGtsyYBKiGO7ptF9P4A9rUgK0CJpDCwIr+yugCUOvf/ssuqtC4iFRNnuKAd7sjkCLwT6AUbDjJ4JY9+RvvTqwUsMtSprE7TukVMSdqLCf9efckv6jyBc2950TC6ErkgrmAZ1SYun9zBXmjZaJqvmu5oxV+4yuZ0cbe2Y2VYyaH2ZPicy0vewlDDIypxCuv0LJjqvyMaWPb9oWdzVCxYZsmJugUkrJjwTL61Vw/XdRR2uXl3LJlKL+LCVDX5U0aWQ9G3aYVQTHyZbatqz4dc3pOkFFw8FfxA1d2CSnBu4JbJmNBi9rLA0+IoyT8NiPFo/d5z8SqwQPo8R7ye8HS3XePdlnE9kb8J+cf/n0X2QdDa1iLGgJ9E0nh7wbkxT0IbviR6AnbMCxu1N4laNQYFiBpz3/ASBLZcP17HNsigidacKvGHDQPf72p+basinNnoZP6c7QOKET3MbI4AV6lm4LYtte7Lig3KaBE4zvbp8X5SNdXoH8XTHEco2n9REAqRj29ZZ9rWhjouZ6kXMRrCgnASBRCqRhYRR6YQlPBKeR6jkQ0ieBIhEXNR3W21Zu1UdwGGrgW/iKSx5IDVMCzUFPYnb+2gwxSN2W8+jhmcl3Q6xLF2Pjdbi68hINUWtdLXMtVdclTQ2vao5Hjdetg/zpFEhL6V9OEZ3UGK8rrr0goykQH32PnAb71DbZcrCmfzK/9JBTR9IAf9J73TPOI3SYUInW3N71SJnbkiLlcYapHQ3canUgItKZR4WNRo28hWFeTMjx74dsUHv/h0mDg39iJMtp24uVyNeWIW6rhKTeMfo8ZTWLzpOIXCeKbbvFPXO9ctsMbjn6N+TUlfugTKGgpYfwAsJDZVYWPwmFClocMc2FPyAZAFB93grCJ0+WZSyMylzgBWQ7OKNwqqzMKPHS4S2jl5hZAwMn3WK2oC2oDydpq3fgZDndDOLEjzb9/vNMWqWTFw40yX/6O+IHmkRunzKVetwADfDzXiPpkQ5TeDDJVohhSAZ4V8zhUv9CSrFe4STJXl7teGcLeBD8CPjzM+ewk5TLGEOAf+1Sx7ifPVl1yfOKU/PTjbM/jgOULFHXQ/TLTRURyFvYUvE6uu+P9fcCxN3kOWggCDxLdM7bUS0JNNA9rGtfdr/lBMCXKdXMwG3SfxShwj5bFyB9WFKBLBMwTEGeFVS9Fg+vvtrNqbuBlqykpxx7Z8zGRnIUe5QcXUZbjO0uxPeLBKQQENMNw6vri3XteC6Uz1QLZOMTovs6boz5N8XTHW2tM0YjTK/dBHYQaHFAcr9RtyO5OpLAFg4Y8nhBzDyOBkLBofb7Iw3ddQHDRSykAN1gX3EkQv9cHQRN2eTONdlvI7ChTyJdE4e+noT0nXhra3FbcdIsqwwDWZWfAtJMJcMKtKlAY8DEmWG3YiOwwAdSMLB7+aRdND+LSTKZ0W1BO3YmauHJ4iqEF7+IbC6UdcX7wd9WhKOsOMLS2DoTwjV0TOdbgFy6xhS/8cPR5J/aKEsYBNIYlFSyvGBIKw6eyW8mSCP067RWkMS2gNZT6ihhhsZAAfZiPywnKpyeqB/CVEwnAjmk8qYUDjjK0EvkzaPzM3VnxInCG/J0sXQuGoYxQ6lMLkyn0ipDRSHADUCOczBi7MGJ+5QYaeLlG80oEGzQfqhgRxDwAqar4cR0E55PGcLWFOT5og040QRPzQS5GHQFK91YmN2QONlJzV/mhb4b4Ku7TEU+LbY6rSxbI2nbMblMpb7V/9Hp6K6NELAIaqBVpOJU1H1iWSsa+YP6G/3XNB8SpN72mwBrCBQJaFc9wswzk2nKHIicg3CpgIORgjYjPXkQJj0kogobwxSoS84UZ5ShoR+QjM4AkYz4OF56OkxrrZjOpRk9CltJF/ZDm/5s6isAlSa8yF/dqVZ7M06M4KUOyMdNxtpe+SlK4aKBAUtZiJz/50thGZlNPxlg5qk8xV388nc4swTAsZyeVT7rv5exuoVgzjnn2zQjFXlRvoUwvPsEbJvJzTm/uxF+ctFUobYokkufofIbTpkmJlkxxekfvqKooXrPZwIsmYC+injz6p3mzg/LLRLV5F9TBnNGW2t+h1xuOdRGS0eAQPI+Xy2zICkPCBkSJZJwtO9U5eIz66VXDNz73R2n3F1RIStrtMmGhTe4aZGgTbDFBy7C5pSUyUe/3MyIB/FBZUKxxlgcxqzMeP7jPht4hqhWbQv8WyuJBZG2/4yUyOKCYHRq5x+w+lQFZskY6k79bck15ZWKjcQ3irN+RrT7jRmrASwUETvcmN3cDi8tispL/DHuDkLWAnVIDk067NGcDkju107YvbfLe3hQZ6IL6fftQjc6S5+sbjB/PQuBVQiva2TfRk7PsrM2WvEItdlMsWAUBqb/F+D+kGU1o4coz8PxoDoX2JaT7EsuJuDXHfAbH/sukqCZ2DWOK8GWMKpNsIBNut/Ci4hIUsq7/vpH94e3PBgeOU2/jU8WYaIVXSxjrmIZbQQdRPPeML43qoOE2NSVsxn06H6g/vHDYoRvOcqqPpFuy15tQYPMUbdwJwpFRhNIWsOG1xDQTJGkx/BlhOEVnxLMX+bAq9khADEoQXVVGW2q4hHaWGQeGoLOQyNNf3rAW8qLuiWHfzX46vzPPyl95xxwUq0Haeer8FMI+WVL9w2BqUGhwxSAsZ7mq0+H1x1TjgX8uCSO7q7Esz83tyCEngjFabl005WpWO8kZ3EfLsIejgFrnLAPZL3PPjUEO1yKtmfy7wLrUrL0eNfHO+fyiEa2jntm7+i14TBZQKoS82FHN8szZfXBeHpcmasklBYOt5hzL0sfcrRCnUUei8eVplsPcow2AJ3c80+AcZrpkp/Gd2WOtYTlAlBJzYakdQAGmz88y2Ji9ILUPrAoxXw+92YNmrcDXN+4pvU/ELpIc7rgP5JVIpnuODlNKQy1RVRLLDNeICutyw6hw7FVytgiHwM7yiuc+PqD5eh0jDCA0QOaYnUkHHSmy6iYQgsQYRlYD4m7BpF4tqru2lY51ljjHcpeyPkngA5ApjZY/ki3YzxdXX8xXI0rcOh7zRg1rotC46aWlp7aoAqIZQvW5I4AH0mNOb24YjxT06uhn4tMw+z41A8/0nTbr6ygRmOLH2keoR2hBMahPuHFLiyPS5he/3Cl7it4nig+D+ENdN2nkSIdMYCTHVN9mUOuBZoCuMIndkCKVkbUdrLqeXp6jtK1ASWC0NMU8dY9f8MfL75v4T4ZWpe+/TIuEmXgNlbbluoqLyLOoZKguFCC073wuY392z/LwBL8sRyBocU0HAL607b9iekqCMpNxD7zDmmonnRjki11uR1ZEJ7cws/l4IyZu0TzIeexyk3xgv7w/xp5gLDkr7tqxNncAt0KBJ0znq/tyNT94Q+ec76Gq5bMhAlZY2vmsywDgddJhnm94S0jzOsG/hHjnbnKiKrpgUXmsCIazeFXcrd/jfvv26yGKH7EbioUvY+hPAtvJjS+JiONMtpQLHIx6sQNbl8fBliu97Mx6gmnPwmGN0+aGoiycccvyaLIKrv1rsHPiVqvVNcTW1ffyN2JjGFjMDkeVJn9wF3y7RReymVUt6YgQJQZgIPBPzmO+eA8cyDCHmvWsXLQlzUet+5M4DxYgtCXlugNnD3EycwLRxbPg/su8GdLzsGjZkiZf97tX+hdx6gms/PsZvKGbgkNi57lFKXazAADiJnMG6hhumotxlRA/jRMhLm2JhSp2q6AJUXxXWM3H6b9obuK6FB3K4jBAT6dLzUzI91YVY5BSBOYPJfPAEfY/Czitpze+8Lvm+csoHA1qtufaGLsFpxX1TpWYIPhC4L0ruzBbLIzG2ZCCledvJ3GZ1IoeA7suDOsTJzZmZ69RvmPKQwHb4MpCkArT7DMMMBXpipgGzOupaRex6W+AALQdezj7iLIDLvqbwXtEELAa4ScMi1cdWYnyN/e0glHQVSXZNQdHrRKx/5lV0CwwuycCJx6T7//UVqj7Vux6pBKmNapH+RYwu83BkOUoZ/6+wJf4tALLg5ByrKg6zOwOhyfWj7q0a6NPpPw1wZeVgsTorcoKl9OkniENCnlxL+ou54tTpyFi69+2tCzXZ/Uju62896xN8g6AjfQXSIl8cUZf4zu+PF/PqErfdzWoNkJsRHgLq2s0bJwvx286f+Km+J4Vhhh12Bp6GTwZNxLkLHFsdDDdPQOVHJcQPr5kq4TjzYsVQ2U+czKu/R7k0r7P/421o6phrP4Yx6kKufZ7Bkt4t6Ra0OIjfieaxfSsUh02rTDPTwHONAuLd8DJ6y/daowuWfPQfSKzy7dWtkgbzr1N4SBZsqug6kX2TktwMgY9QNTSd1ba3Jq+b63uHoAdbK7IogYE3IR7hE9QpuJK+ykLAa+m/JOBIIpMYiVu1k3auJDWPk8tkao1v7yDJ3k80Ezs0g==,iv:9Cn45ohkfQrA5TNUc+de3J056JlmUxA0aKXbCLX7zbo=,tag:UbzF64XLYd/8ZZsJtZfGYg==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs:
      - 127.0.0.1
      - 10.1.7.19
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: false
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:PuqNAxKExdZ15ZAv8OChzyOJ3rr0E27RIkRg+RymgTH36HiH8aeRJ99ygs/YeJFN6tHFqC49SO51lO8VZiZ4ezYa/0wHJUBFYKbVXdiC7vp8MiqJRBgTWV7tsSGNVkwLcfBqkQixEhYqarnolw/6ZGyPNalaWrEonX1rFXVeJPAABrv4iDo6RHd2A0CGKROQFdKSUI9gExARA7wRwn6mdDYu+Hk3d7gbjTucQmWIltjGL8CxXHlexnHcpq9tQFzjWUgqEvuLysTOoiHIfd4V3s0/4qibQSLZl7yu8g6VqbKeqIAvGhaPKSuAkXFAiPxE4UeI8RVT1Ezurq/vkKTxiYOlPL7o1+450SisLqA9hPTkJkCuogx5FLrQ0cmq/N5+H1rlR7ekW4Z81RPdJK2RAkviZX/UJWps2QQqBRyUNbmsZBVw5EFFvXfnRT7fx74u2F8PI1FeaGa6x2wXLhNQhTFi+mM5UUTa0L7Kp3bZfIX9JxFUimVWw5VMVz2HGIWnhhv9ESid+ZCXuPBd+AT4HwyN6+Yf4nAerHEXzJXEgN7YG44xGFkJt80H2nkXAm88DBCJvqdpcHoc94qiHsjoVshnkAEOpLFmnxomeT/UvF97F/W2SW6CTNlrsnDgVdA3p4EK8bc2hETaThP4odLwSJkB7rf+9oYB6kYs0lNVLRcLP0kk43CsPPOdbuVfuGpcdr/EAv44HB3Mt3IqAlT5txpChcyb3R4sEIrWhoEPKGlJaZ1vnLO3y8O+Nz4jkNfqplxoItk/uIop+UTivlf5Xy5QzBhgsJeDtGehAALQ9wrmukihVnhPcGoEJJ+AcHcX/L3cgVXhlVyKhGnlmqw3axgv6m4b9Coo1nuptE0F775lzH2/ITcU1/eIRm4GcA/Qki5wjNMe89DOb/Rev8v2Tow+4VDjA+QC7lyuBbn5dEe8jEhCJqn3b7oU9oXdK5keagDbt6GdH7HCaQxWBjyBUcbp4Nbk3bURUbLSVJMq9zZ0iF7VbWRcV9SJ6oWgJgN4I96cUw==,iv:WswKdxnoT10FHwL/nqsiA924Iv7jcqmSSDYsn7o6VIU=,tag:Az5xiH0YQ3E+ROrN+qzTsg==,type:str]
      key: ENC[AES256_GCM,data:e260lypmJjovT8+m8TMh3nK1EFkFcnVQpchoQ+vEcHhsIYTzHvkCbwK8JHCaO9P2KTHxR6OEZFRf0PH1TKdffJwwJRhIc7M7r9ZWJ69Zbv6wtyUTDsOxFJAZaylQpQyPjLrIcSUBcvuAwJJWYDjmVZmb2EBLR4fsVyfG9xElvPgJiGR6fZL4GdHJMiALjYM2eQgMtiz6ZF1paHCAflBX6z5w48itHEG79fGBvhr07URxgZQwl0NDKk7pPP0DDK3WTzv/WOyF2b/7H6Ddiev+xhb3v/ui2bFNldCnBc2BpPUg4TYptgW6jfzjSxbACthiOAe/Tw00bVU9swWlcwhrCtEjbGCE0v3wal55opkegsnLaf1mtyYJ5EktRCNUjnXTYhZoXZeRIHtrfRQEMDukvQ==,iv:b9d5aluOvLssZoVConiM3rfJijpXAQbMJdNrByhhqw4=,tag:bnZ8w6iSlyKH3F52InVBcw==,type:str]
    extraArgs:
      election-timeout: "50000"
      heartbeat-interval: "5000"
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.7.0/24
  allowSchedulingOnControlPlanes: true
sops:
  shamir_threshold: 2
  key_groups:
    - pgp:
        - created_at: "2024-12-12T14:01:01Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA1RXh5Ys3ljeAQ/+MCwMTvsEe69aMnUkaJ3THoYfMXEVI+nKoiQ6DbP/Mpvp
            R0sGVvY+4D2m3LF2gfy1TK9GlITKAT3XRxAgY3334OHEfQy2chnFb1lAW4isdNTg
            yDtZO2YckhnQoDqIESD+1CHIE97hvRoJtymHmRFAazeLvD7pUSvkGJ0jFcEHmDxi
            Tk2yDqEa4HFfsXDvTVQdZMIpL2DhGIukbW51bIg7t72QgSRPP/qbauLb7PGFjI7e
            fffQfSb1AGcc2M8N1TDpV9ChIwkWfbudDq8CHna0VPMjWsKI0AiR2fhrnLITgod5
            VtJkS5pt67ae/M10ygSRa4OAzv19iR+3kU8C5Cd126nUsiEKvmu5F6LrbvaQ6G7e
            9ALdPzjjLxUY4LwJ7NMIrvUsK3dzmcDtQJhT5iAwvHP1H0cNhdadJgxGwgFURJFE
            1dOV2wMSwQHGAkolvCMfZDdhmZ5AB528MCxNF5feil3UEreem2rfozIPh/8R9EVD
            MoKjR/iEOxH9Gb75Gaa9CQUtT9HPZa0Ui68coQIp/t5tgf57zq0CqcGDQEnKGhiu
            TA0UmylQtzvFXFUgJ6BLnfkr2ho6EFtU2wD4TeuJR/5HUNTe8T4+5Z8oea+Qqm8P
            oFE3Axjn4M3KNAl11x8VmUaaJNVaOjua5icuadaFAK1Pl7wbpLncXLpHuKHJnJXS
            XwFcjCIPMjHEImcmxXIQWEZch4B+ulV+xHFptN/mnpUd90sQpvPcF7QD/F89XCjm
            ewzt193+JR0IUMWlH6QIg2XhKPLZaK5b8To5anFu+FWoD3+/7B85g42RX0qiAnh6
            =o8jt
            -----END PGP MESSAGE-----
          fp: 400670D8EC65A6C34626665F16D2392AC3023DC3
      hc_vault: []
      age: []
    - hc_vault: []
      age:
        - recipient: age1tfk03j4cvglenzw23ugu2ne3aec7s5q4fgvm7nr2sf9wvxrpzfasd6dkcc
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBhQ0x0Yng0dWhnY0dydnVa
            amxyaWRqNjR4T0hMbzA2ZXRaMXJoUUNKc0gwCmxuQWNJN3BORUdMRFozOTAxeEZO
            TUZleCtsZG4xaHNuR0Rqc0dDaDlIYWcKLS0tIGExVEU3Zm5WVVhudWdYQU1jQmdZ
            OFlkWkp3THNpVVZ6NGVVamNPWHpWblUKksUFxmB5bVuO0R3FSXzb/Nz7pYwN6bOe
            9NIgpoqpomYxzGYfAXxp8Da9+XMja4Qs60ZwrKYUdMySkhtprOyJKkk=
            -----END AGE ENCRYPTED FILE-----
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age: []
  lastmodified: "2024-12-12T14:01:01Z"
  mac: ENC[AES256_GCM,data:WbATNhgzP2iELDfO5ggz4TGAVik6P5AHN0D8oHbrTET9UpLED+N4Lw3Y6hQ09V/naSkBTwzYab/kB6qA/49OOKSZY4NlttiBFNZ2q0892lYA8BW7UQicWG8XbcbZOkuoyIDYy50zmf5DT42zjNR+1Niof6wFXjEymj9974Ap6ag=,iv:wKy0elkGDld4Qk/F5FFBXjM4DTM9I4w2nA2O9J4YU3M=,tag:4Xskk+2CAHlknTFDZZZvEA==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.1
