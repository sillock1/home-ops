version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: ENC[AES256_GCM,data:tl8+6hdlDKGa2widC5BMIeYsuwcOrgk=,iv:MtNhmqkjQBx0mwh2jEsVqHgFc1Bbt4YdjZ0COZoeGm0=,tag:73TjkYF5VMNdfttQt/XrHw==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:CBMNkgk745IUeLrqzy9O3CwQAUUeWhoxJcgBhM1LTgJz5pjuf8Z4WQvyzYtaHpSH/KTEbAii9PVnqTD0I1c01eCSp6awsEAKvYdLRhverKNmYL+eXXRKeVMZ3UIzLe2xAGitVKbFOo8YDOuMgEmM20BM7qKAUc8PKS2T+I76d1dq4sOa/keVTmiQd85TKddAEOufEeWDcWpdE5OOfKhjd0ZSLbzlvqYAkfmY0YnDc4Zy+q8uYPNqVQDPXOYM4kylrJfWRHg+EzCELImDGh5lvoWnfFIFgVX1SP/lazGXiRNPzi7L54LkcJ/kVoULYwRQ3vBTjXIb+wWQFoPeS7cIRWnOiJcW1yn9hS6U7swSmiaMg5HTG0xd3rZGSIv4FhTudN2AVV3nS7m3tIpynq23IK9HRmdNu+Ro5l/TXqiFfxcg9VA2EcJsX8M5AB84LueLthVgR++/cFrR4aYfTMst06bo7Awia2DKQoYpD+isBJ7iQxtlAQb33KbFPswvm2WPyXO2AK/yE4RcfbPQzo2BUUeP/ycGM5fA1va8uZCyXk3d7umLRGgE8lAxR4dorhFxfRXyvBSY2Q+Ul9lh7RR3OvVklllWkmQEv1NbGsmjKqPrIna8rQyZO5L6IEyz6cx3ezj2JTuGP/Y8VxF3Os3ns1xs1MQxduANn4REw035cVIJe8g1Gz3JCkIe3jG2JM6Ib1IVSSPKZZDFgxajEesH2hUMpiRi2peUz5u29mKmJEgpagHumQeTZ5jMfefa9n8fBPh82Ub/bidYQB5y1OYzvHFNrmA9UBDj17M21uQZwOImjA0oBY1pPUBi4biMCh55i4zHhlT3BF03w1zRrhE9fScLi4nMDD66ZDqghqoewNBu/7Sc,iv:HFbb9PWypTte8+10Yhoqs7rCrLqY3BKL5LKJWV4YgWU=,tag:EBRzHc84C9TED8JpanI/vw==,type:str]
    key: ENC[AES256_GCM,data:L8Bi/AmdpEcDctu+QMjxzQAAuahzdafsVz+jfOcd7sB7bKtv7cL67iWNAJNj5lV3BhSGNKs8/px3dMVGTuPJeQHbvdBR0i+n2Pub5EeDtKQP0oR9NYQQCFpTJw4XilsCnaU4llMLq0HVCtHP0m2QLxUik22Avhvr3lj+iw7xqI66AX4ELzYFus+rdidUKDEJXnuxyWQnBDtmNiKdh+y6rDE+K63Ij+3QoGJpug93qceWCcYr,iv:nyVesUzJRYOr0GN07njDnIZdt5Nld1PdvhvP876MwQQ=,tag:g1DcCPq7bJYYE9g2pKPghA==,type:str]
  certSANs:
    - 127.0.0.1
    - 10.1.7.19
  kubelet:
    image: ghcr.io/siderolabs/kubelet:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      rotate-server-certificates: "true"
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 10.1.7.0/24
    disableManifestsDirectory: true
  network:
    hostname: earth
    interfaces:
      - deviceSelector:
          hardwareAddr: 6c:2b:59:d2:97:cd
        mtu: 1500
        dhcp: true
        vip:
          ip: 10.1.7.19
  install:
    # i915-ucode, intel-ucode, mei, thunderbolt
    image: factory.talos.dev/installer/de3b865124c5616da8084826167f8c0b0fbc9b905b146290db797024e84097fc:{{ ENV.TALOS_VERSION }}
    wipe: false
    disk: /dev/nvme0n1
    extraKernelArgs:
      # For performance
      - apparmor=0
      - init_on_alloc=0
      - init_on_free=0
      - mitigations=off
      - module_blacklist=igc
      - security=none
  files:
    - op: create
      path: /etc/cri/conf.d/20-customization.part
      content: |
        [plugins."io.containerd.grpc.v1.cri"]
        enable_unprivileged_ports = true
        enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
        discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
        discard_unpacked_layers = false
    - op: overwrite
      path: /etc/nfsmount.conf
      permissions: 420
      content: |
        [ NFSMount_Global_Options ]
        nfsvers=4.2
        hard=True
        nconnect=16
        noatime=True
  sysctls:
    # Watchdog
    fs.inotify.max_user_watches: 1048576
    # Watchdog
    fs.inotify.max_user_instances: 8192
    # 10Gb/s | Cloudflared / QUIC
    net.core.rmem_max: 67108864
    # 10Gb/s | Cloudflared / QUIC
    net.core.wmem_max: 67108864
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      resolveMemberNames: true
      forwardKubeDNSToHost: false
  udev:
    rules:
      # Intel GPU for plex HW transcoding
      - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
  nodeLabels:
    topology.kubernetes.io/region: home
    topology.kubernetes.io/zone: main
cluster:
  id: ENC[AES256_GCM,data:MYZnLqiJyN1j9xpD4ihIEvmSvspRtSByJrD3EuuhGTd5rGu0Vx+JawMwAG4=,iv:dD4xlmGEDVOAn3XgmoDsCfE9rQf7dovCiLIWr0vTSMo=,tag:C2TdgxQX38odh+vxsd/2QA==,type:str]
  secret: ENC[AES256_GCM,data:FNJ8k5nJ1gLCpLJ6zaXIPbDNyDcuBJU/V96csDLzGqblsTfCKbApQdk7oNI=,iv:EDh52kfXubPXN7EeBPkI7BLncnViwd6zX1eJr0bMVdw=,tag:S74IxWJ2wI0OgtD8sgOjTQ==,type:str]
  controlPlane:
    endpoint: https://10.1.7.19:6443
  clusterName: main
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  coreDNS:
    disabled: true
  token: ENC[AES256_GCM,data:g9rUVjguYwnScB6OYJCG7vLxc8ntc7w=,iv:uWwLP6x7W/rZ3mCBrxE0H/D5khRSGCy4pbtXr2BPFD4=,tag:hydhwXmleGRUxcfrW3NrmA==,type:str]
  secretboxEncryptionSecret: ENC[AES256_GCM,data:BMJY8Uzdb41fZwEPg1+X+MbhQ7/WTm4IySl6eldqXK8Fb5ektnVsmrJVwNs=,iv:SvqveMKcZkNmOFVeToh50O5/2yYXxxN5ISR8RNXVe2I=,tag:QkzzvJZvfpq8sl0xZfc18A==,type:str]
  ca:
    crt: ENC[AES256_GCM,data:XwiGDP6qi1QUooNkDNmCeMg8GXLO7Vuz2FhVzfpIxohMgdVfHX/CrY7ijloOWLPJA7FLd9y+GWBNYr5AfrgJt8y0OYx2PwvDKem84PMXdw5dHKj/1yUj3EGdbyqcShXb7RWjC44kHtE53VS/4DvNaaLoBgqlkvKDqOn4VgGrJ6kZglLTIkNTgLj9lhcPJI/fIzCjfjAAuk2y3UsXuRYMhOe7SgNi0vDcoy4h0LPTUWdThJwQvSWoWmECSZ63xQrSXIznPMgabMSB4mCyclKH6g6Ku/eHyN+IGBjtLy3nhUF7g3i7Jbenj3cZ59fD+7DABzeZhS318G5CepzOHGWJS6IdP1leXPMgZJBzNmXNOXc3L5pWGfVsfcvinP8XomaVyFZBlS7sucJokshxJQKp8gtJXTN+1jfZMcb7azawG/A2PenCRMs77SOIRgDhQRBd9IGX4+pl4lQJAf1wxXBI1IJcQjHBR3OFDsFxCXAACIcKksx0b48Aes2UrOoMT4/yb4BmCfekPyEBsYMZbaYt2Qiwe6cY/u78+QbUSSDi6l50WtVYZmbTT9S/PnWmuJtL0whdM3Uffi0t284LRohXCcsF/eDy009PMluSwSkGlJ5kP9WvX9swgPeFmtu/swz9jEnredtrNRG2NVGlQXOdt4owgmjncDCj854VC8zB41aOPDUSIxV+wUsNa836IgRF0Le/Lb4vT5/WC0K2X19puXMmQIMHb715X1O+MxlOWto5TJuIJ6d780mVxKQKf4y1KrRkXgGyGmDRLZQIA1BA6f6RVTBNiT33BK/sWkD+CbyHPs4Ugv7abcD85a26ImeI1idCQK1TcfmlFaicIYKxpgqCjfrIo79+qygzc065Asq5SRsUfG6hpkHbhgVa8q/IjKcrJ4okeimjjd6+A8ASRzEWdWWtW5oD1bvlKJezIZufF+TcdvRlzjxJdpUzTZKAjhZGkygfQCu3Pu5YGU/yW7OJ7MOEsvHSo7J/wbp2cuRzpEY+n7xt7S8Zpwa4dZzDJhMZEEH0FAA/GX5dOtFDAu96qYiarztJ01ViqQ==,iv:Zg9KHqEY5ow3O6FYWJMck96gELixj3mlCjqHXo2ZOXw=,tag:Q0w5RfGetCh9XCcnapToSw==,type:str]
    key: ENC[AES256_GCM,data:48jk5yHtIoV7seBkDqxw7/qA+Oms63mvzYQex/5uUi5blDDbWMAKfDo6SDvfw/7IcgYXFqYXPhUCrQSsn/TAK83iXXgivN4zKzRYZpLlZrbv+sKEDlchrxdKLw3sd8k/24mrBXUjpEtCK+bRpAJ9CQGgqhGHV1xRxbVCof2bQUMbiPS1R/X5sSPmLKn6cmCEvxy3z2RH+RezrYXXQ4dQ9dhQf4WGJB5XOtl0Bh8Ope9CEEGCFlsaaZV+jBCAmiiboUNRsYcsNnA+HCQGByo7k+PPFhUiMKAObCgv9+tFWEaJ8aZWFTasSeJGgpfRyYLB8RCyxw4kye+lotkC9FYXXSN1V9JlmroGf6IUljjCrNHuiZ4y+2cGWjMp2LjjmrHbh3iDEUKaDTntUvRKyG69fg==,iv:grxWQOL3QxcQfPXzFtS+5/3TQ0YRi7gEhS1vJFRIjuA=,tag:qpuP06n65JHS8v+jdv40GA==,type:str]
  aggregatorCA:
    crt: ENC[AES256_GCM,data:Lb+SLDmH0eEQSCuhdi5NXsbc6OniXaimwq85Vl3hPzyOU/Y48uSC7Ht2z5t57WrSCAoUi5wN2KJQQQzop2H3sOWeuPjDG8Z1EiYOP7HLT/SooAvgw60vJ05Iq1Wro+zubelL5btW6CrW/okHw+ervyOgb6GVrG9oLSNyoxmyDd7AMzEioG+tCtzUBMvejcpGo+2BqbGttmm8u90tqBtx4oHuwtEb0VaAufyz69fMm0wJKP/bB6CE7ky/avxt8fT0xHtzvxH5TomQhhUxFPZg0pXwXSqZ0WfYq6Bk0/vxSvttl9k3Rt/gujcQ99EohN1cPNzhIVvKPrSTz0UzWHFGcDK2g5DujeZ2mBS0DT3TN/g/kyUANmI6gGQ8bTimfcKEEpqutc4iUesYPijgo/TFlL9OlpkkyAhMRq7YpJBXv3ebaEoLwH2FEmdK66byYa3emKbrAxJ8WSDgDSn+/tE3BHZZDTQuqDQld+VJrAbVEg9aUbfNxrW0zTAKAbHPYEEYsurHvIsxtrClMR4Z574H2aDwGxzY3PDzPcbkzvgHXyumUNNyrfXTKhKnE8noFs0wSx8rcMCrQ4D6K/B7oZum0Jc2v/xc4XVjzdrcSKOaVKEfugDb8FGNXprnb2n4ID7oIZnzeGjsufuv3HMxrBASGOJSxfbsvA0+J1fBhTJrVQSQ7RW1C/kjI3Kq8x6H5YD45vHa2wQ07I0dHCg+E1hYwS4EOUjHqYlU/Qzyo2/o6xnj8GOpkie7mTtyM7t6m3Yz5xF1n1+HWoKJs3hjjYWF0VKn5vzJ4r42apUS17GFOnuMD3TVrqTLlRvlUmNzcwlS2dXiuFIbLg6O50MAnWvFbdwCr2g9iZ3//g5gAWOONfX9YT18fPAyhExeDLuPpisGpDfrI8nCKmjwTf3/QUfbOjjac8SXueZO54q3iywGvOcEAPjh7ruGjg==,iv:3Wk2fA7eXoC7ukSpCJV9UZkPqJXgBIl2Mij/qV4Zn9Q=,tag:IAdBdycYEpchtpk5Jr4I5w==,type:str]
    key: ENC[AES256_GCM,data:2GsZtZc8Dua2kqOwj9EbXb3l2T7HOvWTvpzYbq4cbN8afP8RJYTiXV5gmjngzFT9zkiqXH38FQtcJqNFlrf3m0AZpTrW3Fwuu0WLQB58Lr9nb0AzPXgG4L0EsFAhOVtFiZHAKrlKoPyj8JTnt0/ojO63INlZL8E4+TSbGfkv7llRFyyNlg8DSBF5FwodCGkVzXW5hzU4THHLpeeasnkGw7Zr/U3faTgSP2e3kxc7hEWrzR+TKKkXwe7uZTxEntPGRBDsa4kyGjZQhqiv2QeLPoHH5QT8cG8XQ1pnlkqssU6eGwN60KA2eMs4E3WMKpokooUC0E9a7cwsQ5Ta7kzuBQdVZJuFutVL5DZqNCzFNLxfCxqbLBpF6ao9XksScMP8zT/Urx6/T/bdUei1mvsISg==,iv:SW2H0scIW/YpS2+zXZBigE88nfYa/nRiHcwxZuKzefk=,tag:LKA24OAtf5o3tALa7CeP0w==,type:str]
  serviceAccount:
    key: ENC[AES256_GCM,data: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,iv:2l0yLFtTc/xRiKaKe62nHEk3YtzhR8psHr9n21/0QRk=,tag:q+87TY2gPJadTPyEAGYQHA==,type:str]
  apiServer:
    image: registry.k8s.io/kube-apiserver:{{ ENV.KUBERNETES_VERSION }}
    certSANs:
      - 127.0.0.1
      - 10.1.7.19
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:{{ ENV.KUBERNETES_VERSION }}
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    image: registry.k8s.io/kube-proxy:{{ ENV.KUBERNETES_VERSION }}
    disabled: true
  scheduler:
    image: registry.k8s.io/kube-scheduler:{{ ENV.KUBERNETES_VERSION }}
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: false
  etcd:
    ca:
      crt: ENC[AES256_GCM,data:RzX8XOCVUvr2LxN9RcHFn2EcihYNmTvpA6+zS4a+2lbLu1qB/qlsKlYBGSEB11kWkfGMS9bQ8OhS5tSXnxLYBT+fxM2jTuJeLGHpPPx+/eIPNRxCosYtUSJU5N2BRxrx9KRArbsH1lA/EtFpzv+sg1/oJtV2a67iyYSonHdCt8w4j3gUXteV0U8uFMz/54gZSfj8raBPfv16cjbOX5eAz509zewP9bgNvy54v8BGUfQZvX82k+tsltDyk80rnsbq9gIJLNDcSVJxv3mVv4E2jLOg4Mg0AVQr14UA7uP05tccBI59RB91ZpCNHUpLuFcUaCQm0b0NgEnWohbchcgZ+Rv5NLgHpHV80dU8+GfJaSrV3e2VhUilp4wKSZERM2Ckmtzn3HgRvJLBbhf4UhRnEfHJQvU92UQX+V0lRtkbKs6qc/HUYZtf/M4r92zDZezlUp3VxUJier9w6r+WWn1mXbTWWHLTTRe9e+ti0q5RueLLMb4C6sxaUx0Y5nwll4imE1yHVrUpGocXWK+yb+DPCuXh/vVWonBk0IPHsig+t3yTXvTq0J8YZ4LX2wmWW34TUPenlfrbVoIOZTBzl9BX7OreZ8PwmZfbldwRIB40lSk/A9oEtC1sR9QqR+iN5Tn6M3TACXpVJbJFHf64ndMFEfkdQwqb7hJyIlZ8uMJ4PNBeWovbNVWJUEHazX92Wv/DswaGs9KfKbVpyVE2YEKTjMStmrG2bBKsYAAP0NoYIScZa8l5R6WxIfa1sTaxfBF440P28bu5S0DEYfty+iDG8BOvBSEghCPf5MdVSv6CsIyV2BROEvfuBOQYqhwOreWUOWq+JJU6f8s/7dXwq5C54VrUhMr+ZZeca+RVz4gvtW8WBT2+qJkYSEDL1WqI2RUtFtLvNsQuAcAAYXq+TPaE4Ef1Ko+b+zL8wYAlG2zXPIr8iYknknZF0dyMHqzW0NV3pMkLWHehiFsONJv40ywnDvc0ResPJ0O5HUZfeF6wtWnVWpFmHO4ZIlWyIYGmFG/7qPqzGw==,iv:M7+RY0X2qXISEjsdYSxKnFf8JTGdprtJ9Tutiuq7eUw=,tag:Uj/tCgYhWy83UnTfaFn0pQ==,type:str]
      key: ENC[AES256_GCM,data:axwqGNZ1WAfN64UW1lGjkBd/1sT/oCkH+AC05IRd4KGwmNP2cuaUtCFXLiOy4E31FZWwoubGC3NUb5un3+eG9iEVi2shO9Ez7QKyp9tHMsiW8Zjtri3LPVTYQBddXVHq4oyvSHwzAAo/IUkvUNjBHudT61cJUN2XRmTLr3rnM91BznnH22eqSpTvNdIkgqZ1Dw3E5sTRY/+T6iizyGDEOVFp2Eyp5rUuXMNSh9FZvdvX35Yy3JhtOQWbSRR/aAHYfsEjaFzudq9lH+V5FONKRa0ogK+CCE4p4zEZWo5gXK98brlySGzU/WfRh07fJL8p9qnoHQba/KR+KULTV9nHvAcRVLQ7xFCZ2kbe6ax+SdgHkKHkApPhKi58adbLMKEoxammifrUJkep4m/hGa3FCQ==,iv:1g/cfvI600hERIAlw0WHt7XoMLMMya97VAK5qpAmZ3c=,tag:pdKCCeRjAvmTbAYM3KAOiA==,type:str]
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 10.1.7.0/24
  allowSchedulingOnControlPlanes: true
sops:
  shamir_threshold: 2
  key_groups:
    - pgp:
        - created_at: "2024-12-12T14:01:12Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA1RXh5Ys3ljeARAAvBW0cL1PSwon6GVILpv9tU/b9uq2c68M3+NguKwnJj66
            1nlSTOsQBUVCav6fzS9dtzkfcnCROHE4K5RMP3UD2gIOQ81MUe/+RiavGV/Jd2lO
            1eLa5dRC1R8tBZqLAF8tujl6s+KOrr+7vWVkDNrloWojSVdUb4eU+rSl9cS65LrP
            /1BqwfrrHuAZ7GXq2CyiAs/qoz2ihOFrLH1ERUNXYQz3fGILsJ7uo8SLtZoPocQZ
            FE6bsZo1MsxuK497pwwxRcf4AIIsIIvvGEC+AnCyfXi7nYI7JmR/HYHGLHwsvztQ
            JLnaxvuCcx2PkfNJuBAP5ZS7H+lPIPNY3iJJwfXJkLs31ir/BC9Zaz4P6Xd/HkVh
            Vhzl3kGk5v5Tlx73lUD9FxbY9bjyVPcQMJh0+ehbnK72jl3XzD0yNmNub53rpLQ2
            DSqWkw6LxWAoMjbvwv/NYoc4qzV1698rv4UqaM8V2suTl+0xQ5YBmKOs+xijoamg
            hmy70TBMqW5eNVIVTi8vmoZTNJDY2n1pJRO8VKPFWyvuRhuPcCmYmLGqlr/1cbkj
            XcctXXYeEM8TyD4WL/Sr3UgIhaaIf70PedMkJdNvr6OvO67sYgUwGTfG3dAiPjS3
            LNpNxtE3pNgtBtKxG7VoeCVnRnZAitks7kfbuE87O+rTPYZ8UIjdfHemq2AnnPDS
            XwG4lapjj4o1PudLbbK92rFBBwLEeJKlbBY2KzPbO2scMwpqvklvCiaLANUyukFi
            750ShZwTdSQ7NKMStk2AgBAZhJaXiOd6V46fKR+5Yr1IUXr5Obta8FXK6pLlSawZ
            =hSY3
            -----END PGP MESSAGE-----
          fp: 400670D8EC65A6C34626665F16D2392AC3023DC3
      hc_vault: []
      age: []
    - hc_vault: []
      age:
        - recipient: age1tfk03j4cvglenzw23ugu2ne3aec7s5q4fgvm7nr2sf9wvxrpzfasd6dkcc
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA2eWhGWUtVVk13THhoenB5
            UjlMQnltRXlYczFXSWZZcWVYMU95YW1xZm1ZClhEOU5pWVJJWGdwWkxqVXl5ZG9W
            TWw1em9qRzhKTklVQjgwZ21DOG4wb00KLS0tIDVFcWpqUUVjMCtJQWxXVTAzMEgx
            cDMvbGRpVDJ5dWU1ZWFpdWJBUVBvejgKtQWz+QmKrExLuEGDJFl2Fh6rWhcJKjh8
            zf0JIFi5HTOhekt+py3q4MjwFNo22NtxpftvRRROP5y355gtgjUUVjg=
            -----END AGE ENCRYPTED FILE-----
  kms: []
  gcp_kms: []
  azure_kv: []
  hc_vault: []
  age: []
  lastmodified: "2024-12-12T14:01:12Z"
  mac: ENC[AES256_GCM,data:U7oOYpVOQEi55xchQK+jmjm4/OCzIWsj7LUxkgbZegFHrawrRDDRKaEaPnihhMA1nrlDSOYYI6E93pwkCtY1ydid50wSTVPAaJ+daAB9uk9y41yGmG6tHXoFZaY+efqrdqh65CQzNpuxdWr4rS+T0bqvALVb2srmWp7s16XhzGA=,iv:pqtaxsSvRCbaL9qAuYLLQKSjSSpioz1NVremi2JipUI=,tag:eHjprVcF58pS8n7fdgS+aw==,type:str]
  pgp: []
  encrypted_regex: ^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$
  mac_only_encrypted: true
  version: 3.9.1
